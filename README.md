# message-service-backend

## Стэк
Java: 21
Spring-boot: 2.7.18
Tests: JUnit, Mockito 
DB: H2

### RegistrationController
Принимает на вход DTO регистрации с фронта в формате JSON
### RegistrationService 
Обрабатывает DTO: отправляет в KafkaProducerService и сохраняет в бд с помощью RegistrationRepository
### KafkaProducerService
Отправляет DTO регистрации в сервис подтверждения регистрации с помощью Kafka 
### KafkaConsumerService 
Получает подтверждённый или отброшеный запрос регистрации, также отправляет в SendMailer
### SendMailer
Отправляет ответ на запрос на почту указанную в запросе регистрации
### RegistrationRepository
Интерфейс доступа к данным
# Поставленная задача

## Форма регистрации с отправкой имейла после одобрения из внешней системы.

Дана форма регистрации в нашем приложении, в которой необходимо заполнить:
- логин,
- пароль,
- адрес электронной почты,
- ФИО.

После отправки формы, мы регистрируем данные из нее в нашей БД, а также отправляем ее для одобрения во внешней системе. Пусть обмен с этой внешней системой будет через некое messaging решение. После одобрения или отклонения заявки, наше приложение должно отправить сообщение на электронную почту нашему пользователю с результатом проверки.

Стэк: JavaSE 8+, Spring boot 2, dbms - h2. Для тестов предпочтение Junit/Mockito/Assertj, т.к. на проекте будут именно они. Остальное по вкусу.
 
В качестве абстракции над шиной предлагаем взять такой набросок:

https://pastebin.com/qWjRPuyp

 

Возвращать из примеров в наброске можно заглушки, дабы сэкономить время на реализацию тестового задания. Неплохо при этом помнить, что в реальной эксплуатации любая часть нашей системы может отказать. Будем очень рады обоснованиям принятых архитектурных решений. Комментарии в коде к ним крайне приветствуются.
 
